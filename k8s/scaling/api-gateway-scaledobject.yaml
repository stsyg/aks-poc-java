# KEDA ScaledObject for API Gateway
# Triggers: CPU utilization at 50%
# KEDA creates and manages the HPA internally â€” do NOT create a separate HPA.
apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: api-gateway-scaledobject
  namespace: petclinic
spec:
  scaleTargetRef:
    name: api-gateway
  minReplicaCount: 1
  maxReplicaCount: 10
  cooldownPeriod: 60
  pollingInterval: 15
  triggers:
    - type: cpu
      metricType: Utilization
      metadata:
        value: "50"
